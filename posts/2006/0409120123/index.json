{
    "data" :  {
    "title": "R8C/Tinyを使った簡単なLED点滅とその制御",
    "date": "2006-04-09 21:01:00 +0900 JST",
    "dir": "posts/2006/",
    "slug": "0409120123",
    "categories": ["tech"],
    "tags": []
}

---



<p>
  テクニカルな話は別口のブログでも作ってそこに掲載していきたいと思うが、
  とりあえずそちらの準備が出来る前はこの日記で紹介。
  <a href="http://japan.renesas.com/">ルネサステクノロジ社</a>のR8C/Tinyというマイコンを使って初めてのプログラミングして、動作できた。嬉しい！
  こういうのは大体最初LEDを光らせて、それをボタンで簡単に操作する、というのが定石。
  プログラミングで言えば「Hello World!」のようなもんだね。以下解説と動いている模様。
</p>
<h4>参考図書: R8C/Tinyスタートアップ</h4>
<p>
  <a href="http://www.amazon.co.jp/exec/obidos/ASIN/4789837319/kamawada-22/">R8C/Tinyスタートアップ</a><br>
  <a href="http://www.amazon.co.jp/exec/obidos/ASIN/4789837319/kamawada-22/">
    <img alt="R8C/Tinyスタートアップ" class="at-xid-6a0133f4781589970b014e8bd74449970d" src="https://yusukebe.com/archives/a/6a0133f4781589970b014e8bd74449970d-pi.jpg">
  </a>
  <br>
  この本はたぶん必須。今回使用したプログラムや回路構成もこの本を参考に作成。
</p>
<h4>使用したマイコン、というかボード: MB-R8CS</h4>
<p>
  上記の本にR8C/1BというR8C/15互換のマイコン基盤が付属してくるが、今回は楽をして<a href="http://www.sunhayato.co.jp/products/details.php?u=1172&amp;id=02017">SunhayatoのMB-R8CS</a>を使用。
  これは「R8C/15搭載マイコンボード」という名称で、20Mhz動作のセラロックやEIA-232レシーバなどが搭載されている。
  なので、今回のような簡単な動作確認のために他のICは一切必要なく、シリアル端子とLEDやスイッチを接続をするのみ。しかも
  28ピンDIP形状なのでブレッドボードに直接させるのがたまらん。
</p>
<h4>開発環境</h4>
<p>
  このR8C/Tinyマイコンのプログラムを開発するには、ルネサス社の統合開発環境を使う。
  C言語で開発出来て、さらに一つの統合開発環境の下プログラムの書き込みやデバグもできてしまう。
  それでいて無料(ある一定期間が無料でその後は制限がかかるがTinyシリーズを使う分には支障がないとかだった)。
  こりゃなかなか良い。今回ダウンロードする必要があったのは以下。事前にユーザー登録をする必要があり。
</p>
<ul>
  <li><a href="http://japan.renesas.com/sensitivity.do?downloadId=C2000817">M16Cシリーズ用Cコンパイラパッケージ M3T-NC30WA V.5.40 Release 00A 無償評価版</a></li>
  <li>
<a href="http://japan.renesas.com/sensitivity.do?downloadId=C2002699">M16C R8C FoUSB/UARTデバッガ</a>
</li>
</ul>
<h4>回路図</h4>
<p>
  <img alt="MB-R8CSサンプル回路図" class="at-xid-6a0133f4781589970b014e8bd74468970d" src="https://yusukebe.com/archives/a/6a0133f4781589970b014e8bd74468970d-pi.jpg">
</p>
<h4>いよいよプログラム書き込み＆動作の様子</h4>
<p>
  (左)開発の様子、(右)ブレッドボード上に実装した<br>
  <img alt="MB-R8CSサンプル回路図" class="at-xid-6a0133f4781589970b014e8bd7447f970d" src="https://yusukebe.com/archives/a/6a0133f4781589970b014e8bd7447f970d-pi.jpg">
  <img alt="MB-R8CSサンプル回路図" class="at-xid-6a0133f4781589970b014e8bd7448e970d" src="https://yusukebe.com/archives/a/6a0133f4781589970b014e8bd7448e970d-pi.jpg">
</p>
<p>
  今回は試したのは「LED1,2常時1秒間で交互に点滅、SW1オン中は0.1sec間隔で点滅」というもの。
  上で紹介した「R8C/Tinyスタートアップ」のP129にある「プログラマブル入出力ポートの制御プログラム」のサンプルとほぼ同じ。
  以下プログラムをマイコンに書き込んで、動作確認をしている模様。<br>
  →<a href="http://kamawada.com/~yusuke/yusukebe/archives/files/060409/renesas_io.mpg">R8C/Tinyを使った簡単なLED点滅とその制御</a>(動画,mpeg形式)
</p>
<h4>感想</h4>
<p>
  楽しい。こんな簡単に動くとは思わなかった。統合開発環境(High-performance Embedded Workshop)がその名のごとく強力な予感がした。
  今度はこれでiTunesコントローラーを作りたい。
</p>


 
}
